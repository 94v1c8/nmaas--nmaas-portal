<div class="col-sm-12 col-sm-offset-1 col-sm 10 col-md-offset-1 col-md-10">
    <h3>{{'DOMAINS.LIST.GROUPS' | translate}}</h3>
    <div class="flex space-between">
        <div class="flex">
            <a *roles="['ROLE_SYSTEM_ADMIN']" [routerLink]="['/admin/domains/groups/add']" class="btn btn-primary"
               role="button">{{'DOMAINS.ADD_BUTTON' | translate}}</a>
        </div>
        <div class="flex">
            <input pInputText class="flex" name="search" id="search" placeholder="Search" type="text" style="height: 34px" [(ngModel)]="searchValue">
        </div>
    </div>
    <table class="table table-hover table-condensed" aria-describedby="Apps management table" style="margin-top: 20px;">
        <thead>
        <tr>
            <th scope="col"></th>
            <th scope="col">{{'APPS_MANAGEMENT.NAME' | translate}}</th>
            <th scope="col">{{'DOMAINS.CODE_NAME' | translate}}</th>
            <th scope="col">{{'DOMAINS.LIST.DOMAIN_NAME' | translate}}</th>
            <th scope="col">{{'DOMAINS.LIST.DOMAIN_CODE_NAME' | translate}}</th>
        </tr>
        </thead>

        <tbody>
        <ng-template ngFor let-domainGroup [ngForOf]="groups | searchDomainGroup: searchValue" let-i="index">
            <tr class="table-row" >
                <td style="width: 5%" (click)="clickTableRow(i)" *ngIf="!domainsRowVisible[i]"><span class="glyphicon glyphicon-chevron-right"></span></td>
                <td style="width: 5%" (click)="clickTableRow(i)" *ngIf="domainsRowVisible[i]"><span class="glyphicon glyphicon-chevron-down"></span></td>
                <td style="width: 25%" (click)="clickTableRow(i)">{{domainGroup?.name}}</td>
                <td style="width: 20%" (click)="clickTableRow(i)">{{domainGroup?.codename}}</td>
                <td style="width: 15%" (click)="clickTableRow(i)"></td>
                <td style="width: 15%" (click)="clickTableRow(i)"></td>
                <td style="width: 20%" class="text-right">
                    <span class="dropdown">
            <a style="display: inline-block" class="dropdown-toggle " aria-expanded="false" aria-haspopup="true" data-toggle="dropdown" href="#" role="button">
              <em class="fas fa-cog icon-black icon-bigger"></em>
            </a>
            <ul class="dropdown-menu pull-right-drop">
              <li>
                <a [routerLink]="['/admin/domains/groups/', domainGroup?.id]">{{ 'APPS_MANAGEMENT.EDIT_BUTTON' | translate }}</a>
              </li>
                  <li>
                <a (click)="deleteDomainGroup(domainGroup?.id)">{{ 'APP_INSTANCE.REMOVE_BUTTON' | translate }}</a>
              </li>
            </ul>
          </span>
                </td>
            </tr>
            <ng-template ngFor let-domain [ngForOf]="domainGroup.domains">
                <tr *ngIf="domainsRowVisible[i]" class="table-row pointer" [routerLink]="['/admin/domains/view/', domain.id]">
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>{{domain.name}}</td>
                    <td>{{domain.codename}}</td>
                    <td class="text-right">
                    </td>
                </tr>
            </ng-template>
        </ng-template>
        </tbody>
    </table>
</div>

